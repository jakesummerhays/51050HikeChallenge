<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <!-- Responsive Meta Tag for Mobile -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <title>5 10 50 Hike Challenge</title>
  <style>
    /* Global styles */
    * {
      box-sizing: border-box;
    }
    body {
      margin: 0;
      padding: 0;
      background-color: #000;
      color: #fff;
      font-family: Arial, sans-serif;
    }
    a {
      text-decoration: none;
      color: inherit;
    }
    
    /* Top navigation container */
    .top-nav {
      position: relative;
      padding: 8px 10px; /* Reduced padding to bring everything closer together */
      display: flex;
      justify-content: flex-end;
      align-items: center;
      background-color: #000;
    }

    /* Hamburger icon (3 white lines) */
    .hamburger {
      width: 30px;
      height: 24px;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      cursor: pointer;
    }
    .bar {
      height: 4px;
      background-color: #fff; /* White lines */
      border-radius: 2px;
    }

    /* Dropdown menu */
    .dropdown {
      position: absolute;
      top: 50px; /* slightly reduced from 60px */
      right: 10px;
      background-color: #111;
      border: 1px solid #333;
      border-radius: 4px;
      padding: 10px;
      display: none; /* hidden by default */
      z-index: 999;
    }
    .dropdown a {
      display: block;
      color: #fff;
      padding: 8px 0;
    }
    .dropdown a:hover {
      color: #00BFFF; /* Light blue on hover */
    }

    /* Show the dropdown when toggled */
    .show {
      display: block;
    }

    /* Container that holds top elements side by side: finishers, logo, photos */
    .top-section {
      display: flex;
      justify-content: center;
      align-items: flex-start;
      gap: 20px;
      /* Reduced vertical padding */
      padding: 10px;
      max-width: 1200px;
      margin: 0 auto;
      text-align: center;
    }

    /* Left container for finishers' names */
    .finishers {
      flex: 0 0 200px; 
      min-height: 200px;
      display: flex;
      flex-direction: column;
      align-items: flex-start;
      justify-content: flex-start;
      padding: 5px; /* Slightly reduced */
    }
    .name-list {
      display: flex;
      flex-direction: column;
      gap: 5px;
      width: 100%;
      word-wrap: break-word;
    }
    .name-item {
      background-color: #1a1a1a;
      padding: 5px 10px;
      border-radius: 4px;
    }

    /* Center container for the logo */
    .logo-container {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
    }
    .site-title {
      margin-bottom: 10px; /* Reduced from 20px */
      color: #00BFFF;
      font-size: 2em;
      font-weight: bold;
    }
    .logo-container img {
      max-width: 300px; /* Reduced from 350px to fit better on small screens */
      height: auto;
      display: block;
      margin: 0 auto;
    }

    /* Right container for photos */
    .photos {
      flex: 0 0 200px;
      min-height: 200px;
      display: flex;
      flex-direction: column;
      align-items: flex-end;
      justify-content: flex-start;
      padding: 5px; /* Slightly reduced */
    }
    .photo-list {
      display: flex;
      flex-direction: column;
      gap: 10px;
      width: 100%;
      align-items: flex-end;
    }
    .photo-item {
      max-width: 80px; 
      border: 1px solid #ccc;
      border-radius: 4px;
      display: block;
    }

    /* Dashboard section */
    .dashboard {
      max-width: 700px;
      /* Reduced bottom margin to bring the dashboard closer to the logo */
      margin: 0 auto 20px auto; 
      border: 1px solid #fff;
      /* Reduced padding to tighten spacing */
      padding: 10px;
      border-radius: 8px;
      text-align: center;
    }
    .dashboard h2 {
      margin-top: 0;
      margin-bottom: 10px; /* Reduced from 20px */
    }
    .counters {
      display: flex;
      justify-content: space-around;
      margin-bottom: 10px; /* Reduced from 20px */
      flex-wrap: wrap;
    }
    .counter {
      margin: 5px;
      text-align: center;
      min-width: 80px;
    }
    .counter h3 {
      margin-bottom: 5px;
    }
    .counter p {
      font-size: 1.5em;
      margin: 0;
      font-weight: bold;
    }
    .submit-link {
      margin-top: 10px; /* Reduced from 20px */
    }

    .button {
      display: inline-block;
      padding: 8px 16px; /* Reduced from 10px 20px */
      background-color: #00BFFF; 
      color: #000;
      border-radius: 4px;
      border: none;
      cursor: pointer;
      transition: background 0.3s;
    }
    .button:hover {
      background-color: #87CEFA; 
    }

    /* Summary area */
    .summary {
      max-width: 700px;
      /* Reduced bottom margin to ensure it's off-screen initially on mobile */
      margin: 0 auto 10px auto;
      padding: 10px; /* Reduced from 20px */
      text-align: left;
      line-height: 1.6;
    }
    .summary p {
      font-size: 1.2em;
    }

    /* Liability disclaimer */
    .liability-disclaimer {
      max-width: 700px;
      margin: 0 auto 20px auto; /* Reduced from 40px */
      padding: 0 10px;
      text-align: left;
      font-size: 0.9em;
      color: #ccc;
      line-height: 1.4;
    }

    /* Hidden form container (shown via JavaScript) */
    .form-container {
      max-width: 700px;
      margin: 20px auto; /* Reduced from 40px */
      border: 1px solid #fff;
      padding: 10px; /* Reduced from 20px */
      border-radius: 8px;
      text-align: left;
      display: none; 
    }
    .form-container h2 {
      text-align: center;
      margin-top: 0;
      margin-bottom: 10px; /* Reduced from 20px */
    }
    .form-disclaimer {
      font-size: 0.9em;
      margin-bottom: 10px; /* Reduced from 20px */
      line-height: 1.4;
      color: #ccc; 
    }
    .form-group {
      margin-bottom: 10px; /* Reduced from 15px */
    }
    .form-group label {
      display: block;
      margin-bottom: 5px;
      font-weight: bold;
    }
    .form-group input[type="text"],
    .form-group input[type="email"],
    .form-group input[type="file"],
    .form-group select {
      width: 100%;
      padding: 8px;
    }
    .preview-container {
      margin-top: 5px; /* Reduced from 10px */
    }
    .preview-container img {
      max-width: 100px; 
      border: 1px solid #ccc;
      border-radius: 4px;
      display: none; 
    }
    .form-actions {
      text-align: center;
      margin-top: 10px; /* Reduced from 20px */
    }

    /* Footer with social media handles & email */
    .footer {
      background-color: #111;
      padding: 10px; /* Reduced from 20px */
      text-align: center;
    }
    .footer h3 {
      margin: 0 0 10px 0;
      font-size: 1.2em;
      color: #fff;
    }
    .social-media {
      display: flex;
      flex-wrap: wrap;
      gap: 10px; /* Reduced from 15px */
      justify-content: center;
      align-items: center;
      margin-bottom: 10px;
    }
    .social-link {
      display: flex;
      align-items: center;
      gap: 5px;
      color: #00BFFF;
      font-weight: bold;
      transition: color 0.3s;
    }
    .social-link:hover {
      color: #87CEFA;
    }
    .social-icon {
      width: 24px;
      height: 24px;
    }
    .footer .email {
      color: #ccc;
      font-size: 0.95em;
      margin-top: 5px; /* Reduced from 10px */
    }

    /* =========================
       MEDIA QUERY FOR SMALL SCREENS
       ========================= */
    @media (max-width: 600px) {
      /* Stack columns vertically */
      .top-section {
        flex-direction: column;
        align-items: center;
      }
      /* Let finishers and photos take full width */
      .finishers,
      .photos {
        flex: 0 0 auto;
        width: 100%;
        margin-bottom: 15px; 
        align-items: center; 
      }
      /* Shrink or adapt the logo further if needed */
      .logo-container img {
        max-width: 70%;
      }
      /* Make sure summary, dashboard, disclaimers, etc. scale well */
      .summary,
      .dashboard,
      .liability-disclaimer,
      .form-container {
        padding: 10px;
        margin: 0 10px;
        max-width: 100%;
      }
      .summary p {
        font-size: 1em;
        line-height: 1.4;
      }
      .site-title {
        font-size: 1.5em;
        margin-bottom: 5px;
      }
      .button {
        font-size: 1em;
        padding: 6px 12px;
      }
      .dashboard h2 {
        margin-bottom: 5px;
      }
      .counters {
        margin-bottom: 10px;
      }
    }
  </style>
</head>
<body>

  <!-- Top Nav with Hamburger Menu at Right -->
  <div class="top-nav">
    <div class="hamburger" onclick="toggleMenu()">
      <div class="bar"></div>
      <div class="bar"></div>
      <div class="bar"></div>
    </div>
    <div id="myDropdown" class="dropdown">
      <a href="stories.html">Stories</a>
      <a href="our-story.html">Our Story &amp; Vision</a>
      <a href="resources.html">Resources</a>
      <a href="shared-lands.html">Shared Lands</a>
    </div>
  </div>

  <!-- TOP SECTION: finishers (left), logo (center), photos (right) -->
  <div class="top-section">
    <!-- Left side: finishers' names -->
    <div class="finishers">
      <div class="name-list" id="nameList">
        <!-- Names appended here by JS -->
      </div>
    </div>

    <!-- Center: Title + Logo -->
    <div class="logo-container">
      <div class="site-title">5 10 50 Hike Challenge</div>
      <img src="logo2.jpg" alt="5 10 50 Hike Challenge Logo" />
    </div>

    <!-- Right side: Photos list -->
    <div class="photos">
      <div class="photo-list" id="photoList">
        <!-- Photos appended here by JS -->
      </div>
    </div>
  </div>

  <!-- Dashboard Section -->
  <div class="dashboard">
    <h2>Hikes Completed Dashboard</h2>
    <div class="counters">
      <div class="counter">
        <h3>5 Mile</h3>
        <p id="fiveMileCount">0</p>
      </div>
      <div class="counter">
        <h3>10 Mile</h3>
        <p id="tenMileCount">0</p>
      </div>
      <div class="counter">
        <h3>50 Mile</h3>
        <p id="fiftyMileCount">0</p>
      </div>
    </div>
    <div class="submit-link">
      <button class="button" onclick="showForm()">Submit Your Hike</button>
    </div>
  </div>

  <!-- Summary / Landing Page Text -->
  <div class="summary">
    <p>
      In 2025 we have started this 5 10 50 Hike Challenge with the vision that it becomes a
      nationwide movement to inspire people across a range of fitness levels to get into Nature,
      experience hiking, improve our Health, build Community, and grow in Confidence.
    </p>
    <p>
      This website will keep track of the total number of hike finishers in each of the 3 distances.
      It is our hope that 5 10 50 Hike Challenge participants share their stories with others so the
      movement and its benefits spread.
    </p>
    <p>
      Rememberâ€”after you have completed your hike to <strong>SUBMIT IT</strong> so that your hike,
      your name, and your picture (optional) can be posted on our finisher board.
    </p>
  </div>

  <!-- Liability Disclaimer on the Landing Page -->
  <div class="liability-disclaimer">
    <p>
      <strong>Disclaimer:</strong> Participation in the 5 10 50 Hike Challenge is completely voluntary.
      By choosing to hike, you understand and accept that you do so at your own risk. 5 10 50 Hike
      Challenge is not liable for any accidents, injuries, or other incidents that may occur during
      your hike. If you have any concerns about your health or ability to participate, please consult
      a medical professional before starting.
    </p>
  </div>

  <!-- Hidden Form (revealed when user clicks "Submit Your Hike") -->
  <div id="submitHikeForm" class="form-container">
    <h2>Submit Your Hike</h2>

    <!-- Disclaimer / Agreement Text -->
    <div class="form-disclaimer">
      By submitting this form, you agree that 5 10 50 Hike Challenge may count your hike 
      toward our community goal, and you confirm that you have completed the selected hike length. 
      If a photo is uploaded, you give 5 10 50 Hike Challenge permission to share it in marketing materials.
    </div>

    <form onsubmit="return validateForm()">
      <p style="color: #ccc; font-size: 0.9em;">
        All fields marked "(required)" must be filled out. Photo is optional.
      </p>

      <div class="form-group">
        <label for="name">Name (required):</label>
        <input type="text" id="name" name="name" required />
      </div>

      <!-- Dropdown for 50 U.S. States -->
      <div class="form-group">
        <label for="state">State of Hike (required):</label>
        <select id="state" name="state" required>
          <option value="">-- Select State --</option>
          <option value="CA">California</option>
          <option value="CO">Colorado</option>
          <!-- Add all states as needed -->
        </select>
      </div>

      <div class="form-group">
        <label for="email">Email (required - just to verify it's you; we will delete after that):</label>
        <input type="email" id="email" name="email" required />
      </div>

      <div class="form-group">
        <label for="hikeLength">Hike Length (required):</label>
        <select id="hikeLength" name="hikeLength" required>
          <option value="">-- Select One --</option>
          <option value="5 Mile Hike">5 Mile Hike</option>
          <option value="10 Mile Hike">10 Mile Hike</option>
          <option value="50 Mile Hike">50 Mile Hike</option>
        </select>
      </div>

      <div class="form-group">
        <label for="photo">Photo (optional):</label>
        <input type="file" id="photo" name="photo" accept="image/*" />
        <div class="preview-container">
          <img id="photoPreview" alt="Preview" />
        </div>
      </div>

      <div class="form-actions">
        <button type="submit" class="button">Submit</button>
        <button type="button" class="button" onclick="hideForm()">Cancel</button>
      </div>
    </form>
  </div>

  <!-- Footer with Social Media Logos & Email -->
  <div class="footer">
    <h3>Connect with Us</h3>
    <div class="social-media">
      <a href="#" target="_blank" class="social-link">
        <img 
          src="https://cdn-icons-png.flaticon.com/512/733/733547.png" 
          alt="Facebook" 
          class="social-icon" 
        />
        @test1
      </a>
      <a href="#" target="_blank" class="social-link">
        <img 
          src="https://cdn-icons-png.flaticon.com/512/1384/1384063.png" 
          alt="Instagram" 
          class="social-icon" 
        />
        @test2
      </a>
      <a href="#" target="_blank" class="social-link">
        <img 
          src="https://upload.wikimedia.org/wikipedia/commons/thumb/2/2f/X_logo_2023.svg/240px-X_logo_2023.svg.png" 
          alt="X" 
          class="social-icon"
        />
        @test3
      </a>
      <a href="#" target="_blank" class="social-link">
        <img 
          src="https://cdn-icons-png.flaticon.com/512/3046/3046121.png" 
          alt="TikTok" 
          class="social-icon"
        />
        @test4
      </a>
      <a href="#" target="_blank" class="social-link">
        <img 
          src="https://cdn-icons-png.flaticon.com/512/1384/1384060.png" 
          alt="YouTube" 
          class="social-icon"
        />
        test5
      </a>
      <a href="#" target="_blank" class="social-link">
        <img 
          src="https://cdn-icons-png.flaticon.com/512/1384/1384014.png" 
          alt="LinkedIn" 
          class="social-icon"
        />
        test6
      </a>
    </div>
    <div class="email">
      Email: <a href="mailto:jake@51050HikeChallenge.org" style="color: #00BFFF;">jake@51050HikeChallenge.org</a>
    </div>
  </div>

  <script>
    /*************************************************************
     * In-memory storage for hike submissions
     *************************************************************/
    const userHikes = {};
    let fiveMileCount = 0;
    let tenMileCount = 0;
    let fiftyMileCount = 0;

    const fiveMileElem = document.getElementById('fiveMileCount');
    const tenMileElem = document.getElementById('tenMileCount');
    const fiftyMileElem = document.getElementById('fiftyMileCount');

    const nameList = document.getElementById('nameList');
    const photoList = document.getElementById('photoList');

    // Hamburger menu toggle
    function toggleMenu() {
      document.getElementById('myDropdown').classList.toggle('show');
    }
    // Close dropdown if user clicks outside
    window.onclick = function(e) {
      if (!e.target.matches('.hamburger') && !e.target.matches('.bar')) {
        const dropdown = document.getElementById('myDropdown');
        if (dropdown.classList.contains('show')) {
          dropdown.classList.remove('show');
        }
      }
    };

    function showForm() {
      document.getElementById('submitHikeForm').style.display = 'block';
      document.getElementById('submitHikeForm').scrollIntoView({ behavior: 'smooth' });
    }

    function hideForm() {
      document.getElementById('submitHikeForm').style.display = 'none';
    }

    const photoInput = document.getElementById('photo');
    const photoPreview = document.getElementById('photoPreview');

    photoInput.addEventListener('change', function() {
      const file = this.files && this.files[0];
      if (!file) {
        photoPreview.style.display = 'none';
        photoPreview.src = '';
        return;
      }
      const reader = new FileReader();
      reader.onload = function(e) {
        photoPreview.src = e.target.result;
        photoPreview.style.display = 'block';
      };
      reader.readAsDataURL(file);
    });

    function validateForm() {
      const name = document.getElementById('name').value.trim();
      const state = document.getElementById('state').value;
      const email = document.getElementById('email').value.trim().toLowerCase();
      const hikeLength = document.getElementById('hikeLength').value;
      const file = photoInput.files && photoInput.files[0];

      if (!name || !state || !email || !hikeLength) {
        alert("Please fill out all required fields.");
        return false;
      }
      if (!userHikes[email]) {
        userHikes[email] = {
          "5 Mile Hike": false,
          "10 Mile Hike": false,
          "50 Mile Hike": false
        };
      }
      if (userHikes[email][hikeLength] === true) {
        alert("You have already submitted the " + hikeLength + " for this email.");
        return false;
      }
      userHikes[email][hikeLength] = true;

      if (hikeLength === "5 Mile Hike") {
        fiveMileCount++;
        fiveMileElem.textContent = fiveMileCount;
      } else if (hikeLength === "10 Mile Hike") {
        tenMileCount++;
        tenMileElem.textContent = tenMileCount;
      } else if (hikeLength === "50 Mile Hike") {
        fiftyMileCount++;
        fiftyMileElem.textContent = fiftyMileCount;
      }

      // Add finisher name
      const nameItem = document.createElement('div');
      nameItem.classList.add('name-item');
      nameItem.textContent = name + " (" + hikeLength.replace(" Hike","") + ")";
      nameList.appendChild(nameItem);

      // Add photo if any
      if (file) {
        const reader = new FileReader();
        reader.onload = function(e) {
          const img = document.createElement('img');
          img.src = e.target.result;
          img.alt = name + "'s Hike Photo";
          img.classList.add('photo-item');
          photoList.appendChild(img);
        };
        reader.readAsDataURL(file);
      }

      alert("Thank you for your submission! We have recorded your hike.");
      hideForm();
      document.querySelector('#submitHikeForm form').reset();
      photoPreview.style.display = 'none';
      photoPreview.src = '';
      window.scrollTo({ top: 0, behavior: 'smooth' });
      return false;
    }
  </script>
</body>
</html>
